---
# =============================================================================
# Common Role - Debian/Ubuntu Tasks
# =============================================================================

- name: "[Debian] Update apt cache (once per day)"
  ansible.builtin.apt:
    update_cache: true
    cache_valid_time: 86400

- name: "[Debian] Install common packages"
  ansible.builtin.apt:
    name: "{{ common_packages }}"
    state: present
  when: common_packages_install | bool

- name: "[Debian] Ensure cron service is running"
  ansible.builtin.systemd:
    name: cron
    state: started
    enabled: true
